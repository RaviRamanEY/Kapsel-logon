(function(){"use strict";jQuery.sap.declare("sap.ovp.app.Component");jQuery.sap.require("sap.ui.model.odata.AnnotationHelper");sap.ui.core.UIComponent.extend("sap.ovp.app.Component",{metadata:{routing:{config:{routerClass:sap.ui.core.routing.Router},targets:{},routes:[]},properties:{"cardContainerFragment":{"type":"string","defaultValue":"sap.ovp.app.CardContainer"}},version:"1.36.0",library:"sap.ovp.app",dependencies:{libs:["sap.m","sap.ui.comp","sap.uxap"],components:[]},config:{fullWidth:true,hideLightBackground:true}},_measureModels:function(){var u=this.getMetadata().getManifestEntry("sap.ui5");var m,M;if(u&&u.models){for(M in u.models){if(u.models[M].dataSource){m=this.getModel(M);this._addModelMeasurements(m,M);}}}},_addModelMeasurements:function(m,M){var i="ovp:ModelLoading-"+M;var I="ovp:ModelBatchCall-"+M+":";jQuery.sap.measure.start(i,"Component createContent -> MetaData loaded","ovp");m.getMetaModel().loaded().then(function(){jQuery.sap.measure.end(i);});m.attachBatchRequestSent(function(e){jQuery.sap.measure.start(I+e.getParameter("ID"),"BatchRequestSent -> BatchRequestCompleted","ovp");});m.attachBatchRequestCompleted(function(e){jQuery.sap.measure.end(I+e.getParameter("ID"));});},createContent:function(){jQuery.sap.measure.start("ovp:AppCreateContent","OVP app Component createContent","ovp");this._measureModels();this.getRouter().initialize();var o=this.getMetadata().getManifestEntry("sap.ovp");var a=jQuery.extend(true,{},o);var b=this.getMetadata().getManifestEntry("sap.app");var u=this.getMetadata().getManifestEntry("sap.ui");var i=jQuery.sap.getObject("icons.icon",undefined,u);var c=this.getMetadata().getComponentName();a.baseUrl=jQuery.sap.getModulePath(c);var d=new sap.ui.model.json.JSONModel(a);d.setProperty("/title",jQuery.sap.getObject("title",undefined,b));d.setProperty("/description",jQuery.sap.getObject("description",undefined,b));d.setProperty("/cardContainerFragment",this.getCardContainerFragment());if(i){if(i.indexOf("sap-icon")<0&&i.charAt(0)!=='/'){i=a.baseUrl+"/"+i;}d.setProperty("/icon",i);}var C=a.cards;var e=[];var f;for(var g in C){if(C.hasOwnProperty(g)){f=C[g];f.id=g;e.push(f);}}e.sort(function(h,j){if(h.id<j.id){return-1;}else if(h.id>j.id){return 1;}else{return 0;}});d.setProperty("/cards",e);this.setModel(d,"ui");this.setModel(this.getModel(a.globalFilterModel));var v=sap.ui.view({height:"100%",preprocessors:{xml:{bindingContexts:{ui:d.createBindingContext("/")},models:{ui:d}}},type:sap.ui.core.mvc.ViewType.XML,viewName:"sap.ovp.app.Main"});jQuery.sap.measure.end("ovp:AppCreateContent");return v;}});}());
